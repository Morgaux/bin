#!/bin/sh
#http://gitlab.com/morgaux/bin

#
# slmenu based man page searcher
#

#[ -x "$(command -v slmenu)" ] || err "slmenu not installed" || exit 1
dependencies slmenu || exit 1

SEARCH="."

[ "$#" -gt 0 ] && SEARCH="$*"

log "Searching for $SEARCH man page..."

MAN_PAGE="$(man -k "$SEARCH" | awk '{print $1}' | slmenu -i -l 15 -p 'dman:')"

log "$MAN_PAGE man page selected"

man "$MAN_PAGE" || err "Could not display $MAN_PAGE"

