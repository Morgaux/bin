#!/bin/sh
# shellcheck disable=SC2068

#
# dmenu based browser searcher / launcher
#

for dependancy in dmenu surf
do
	if [ -x "$(command -v "$dependancy")" ]
	then
		continue
	fi

	echo "$(basename "$0"): error: $dependancy is not installed."
	exit 1
done

HISTFILE="$HOME/.dweb.hist"

exec surf "http://duckduckgo.com/?q=$(dmenu -p "dweb:" $@ < "$HISTFILE" | tee -a "$HISTFILE" | sed 's/ /%20/g')"

