#!/bin/sh
# shellcheck disable=SC2068

#
# dmenu based browser searcher / launcher
#

for dependancy in dmenu surf
do
	if [ -x "$(command -v "$dependancy")" ]
	then
		continue
	fi

	echo "$(basename "$0"): error: $dependancy is not installed."
	exit 1
done

SELF="$(basename "$0")"
HISTFILE="${HOME}/.${SELF}.hist"

case "$SELF" in
	"dyt")
		URL="https://www.youtube.com/results?search_query=";;
	*)
		URL="http://duckduckgo.com/?q=";;
esac

exec surf "${URL}$(dmenu -p "${SELF}:" $@ < "$HISTFILE" | tee -a "$HISTFILE" | sed 's/ /%20/g')"

