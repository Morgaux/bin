#!/bin/sh
#http://gitlab.com/morgaux/bin

#
# slmenu based browser searcher / launcher
#

SEARCH_URL="http://duckduckgo.com/?q="
BROWSER_CMD="$(which w3m)"
BROWSER_FLAGS="-o meta_refresh=1"

[ -x "$(command -v slmenu)" ] && [ -x "$BROWSER_CMD" ] || exit 1

sh -c "${BROWSER_CMD} ${BROWSER_FLAGS} ${SEARCH_URL}$(\
	if [ "$#" -gt 0 ] ; then echo "$@" ; \
	else echo "" | slmenu -i -l 5 -p 'search:' ; fi | sed 's/ /%20/g')"

